units:
  # Proxy Spacing Variables
  kx: U
  ky: U
  # Padding Variables
  px: kx + 2
  py: ky + 2

points:
  zones:
    matrix:
      columns:
        C1:
          rows.R1.skip: true
        C2:
          rows.R1.shift: [0.5kx,0]
          rows.R2.shift: [-0.5kx,0]
        C3:
          rows.R1.shift: [0.5kx,0]
          rows.R2.shift: [-0.5kx,0]
        C4:
          rows.R1.shift: [0.5kx,0]
          rows.R2.shift: [-0.5kx,0]
        C5:
          rows.R1.skip: true
        C6:
          rows.R1.width: 2kx
        C8:
          rows.R1.shift: [0.5kx,0]
          rows.R2.shift: [-0.5kx,0]
        C7:
          rows.R1.skip: true
        C9:
          rows.R1.width: 1.75kx
          rows.R1.shift: [-0.125kx,0]
          rows.R2.shift: [0.125kx,0]
        C10:
          rows.R1.skip: true
        C11:
          rows.R1.width: 1.25kx
          rows.R1.shift: [-0.625kx,0]
          rows.R2.shift: [0.625kx,0]
        C12:
          rows.R1.shift: [-0.5kx,0]
          rows.R2.shift: [0.5kx,0]
        C13:
          rows.R1.shift: [-0.5kx,0]
          rows.R2.shift: [0.5kx,0]
        C14:
          rows.R1.shift: [-0.5kx,0]
          rows.R2.shift: [0.5kx,0]
          rows.R4.skip: true
        C15:
          #backspace
          rows.R1.skip: true
          rows.R4.width: 2kx
          rows.R4.shift: [-0.5kx,0]
          rows.R5.shift: [0.5kx,0]

          #Enter
          rows.R3.skip: true
          rows.R2.height: 2ky
          rows.R2.shift: [0, 0.5ky]
          rows.R3.shift: [0, -0.5ky]

      rows:
        R1:
        R2:
        R3:
        R4:
        R5:

outlines:
  keys:
    main: 
      what: rectangle
      where: true
      size: [kx-1, ky-1]
  border:
    main: 
      what: rectangle
      where: true
      size: [px, py]
    spacebarL:
      what: rectangle
      where: matrix_C6_R1
      size: [2px - (px - kx), py]
      operation: add
    spacebarR:
      what: rectangle
      where: matrix_C9_R1
      size: [2px - (px - kx), py]
      operation: add  
    backspaceBot:
      what: rectangle
      where: matrix_C11_R1
      size: [2px - (px - kx), py]
      operation: add  
    enter:
      what: rectangle
      where: matrix_C15_R2
      size: [px, 2py - (py-ky)]
    backspaceTop:
      what: rectangle
      where: matrix_C15_R4
      size: [2px - (px - kx), py]
      operation: add  
  preview:
    main:
      what: outline
      name: keys
    layer:
      what: outline
      name: border
      operation: stack

pcbs:
  selene:
    outlines:
      main:
        outline: border
    footprints:
      mx-hotswap:
        what: mx
        where: true
        params:
          from: "{{colrow}}"
          to: "{{column_net}}"
          keycaps: true
          hotswap: true
      diode:
        what: diode
        where: true
        adjust:
          rotate: 0
          shift: [ 0, -10 ]
        params:
          from: "{{colrow}}"
          to: "{{row_net}}"
      nicenano:
        what: nice_nano
        params:
          orientation: "down"
        where:
          ref.aggregate.parts: [matrix_C8_R3]
          shift: [0,0]
          rotate: -90
